{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/Users/viet/Desktop/stage/yobeen agrotech app/src/scenes/Donut.js\";\n\nimport React, { Component, useContext } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { max } from 'react-native-reanimated';\nimport Svg, { G, Circle } from 'react-native-svg';\nimport { Context as AuthContext } from \"../context/AuthContext\";\nimport { widthPercentageToDP as wp, heightPercentageToDP as hp, listenOrientationChange as loc, removeOrientationListener as rol } from 'react-native-responsive-screen';\nimport { ScaledSheet } from 'react-native-size-matters';\nimport { s, vs, ms, mvs } from 'react-native-size-matters';\nvar AnimatedCircle = Animated.createAnimatedComponent(Circle);\nvar AnimatedInput = Animated.createAnimatedComponent(TextInput);\nconsole.disableYellowBox = true;\n\nvar Donut = function Donut(props) {\n  var a = wp(\"86%\");\n  var radius = wp('14%');\n  var duration = 800;\n  var delay = 0;\n  var max = 100;\n  var strokeWidth = wp('2%');\n  var somme = radius + strokeWidth;\n  var textColor = '#2B2A52';\n  var circleRef = React.useRef();\n  var inputRef = React.useRef();\n  var animatedValue = React.useRef(new Animated.Value(0)).current;\n\n  var animation = function animation(toValue) {\n    return Animated.timing(animatedValue, {\n      toValue: toValue,\n      duration: duration,\n      delay: delay,\n      useNativeDriver: true\n    }).start();\n  };\n\n  React.useEffect(function () {\n    animation(props.percentage);\n    animatedValue.addListener(function (v) {\n      if (circleRef != null && circleRef.current) {\n        var maxPerc = 100 * v.value / max;\n        var strokeDashoffset = a - a * maxPerc / 100;\n        circleRef.current.setNativeProps({\n          strokeDashoffset: strokeDashoffset\n        });\n      }\n\n      if (inputRef != null && inputRef.current) {\n        inputRef.current.setNativeProps({\n          text: \"\" + Math.round(v.value)\n        });\n      }\n    });\n  });\n\n  var _useContext = useContext(AuthContext),\n      state = _useContext.state,\n      signin = _useContext.signin;\n\n  return React.createElement(View, {\n    style: {\n      alignItems: 'center'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 13\n    }\n  }, React.createElement(Svg, {\n    width: radius * 2,\n    height: radius * 2,\n    viewBox: \"0 0 \" + somme * 2 + \" \" + somme * 2,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }, React.createElement(G, {\n    rotation: wp('-20%'),\n    origin: somme + \",\" + somme,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 21\n    }\n  }, React.createElement(Circle, {\n    cx: wp('16%'),\n    cy: wp('16%'),\n    stroke: props.color,\n    strokeWidth: wp('2%'),\n    r: radius,\n    strokeOpacity: 0.3,\n    fill: \"transparent\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 25\n    }\n  }), React.createElement(AnimatedCircle, {\n    ref: circleRef,\n    cx: wp('16%'),\n    cy: hp('9%'),\n    stroke: props.color,\n    strokeWidth: wp(\"2%\"),\n    r: radius,\n    strokeDasharray: a,\n    strokeDashoffset: a,\n    fill: \"transparent\",\n    strokeLinecap: \"round\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 25\n    }\n  }))), React.createElement(AnimatedInput, {\n    ref: inputRef,\n    underlineColorAndroid: \"transparent\",\n    editable: false,\n    defaultValue: \"0\",\n    style: [StyleSheet.absoluteFillObject, {\n      fontSize: wp('6%'),\n      color: textColor != null ? textColor : props.color\n    }, {\n      fontWeight: 'bold',\n      textAlign: 'center',\n      marginLeft: wp(\"-5%\")\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  }), React.createElement(Text, {\n    style: [StyleSheet.absoluteFillObject, {\n      fontSize: wp('6%'),\n      color: textColor != null ? textColor : props.color\n    }, {\n      fontWeight: 'bold',\n      textAlign: 'center',\n      marginTop: hp(\"6%\"),\n      marginLeft: wp('7%')\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 17\n    }\n  }, \"%\"));\n};\n\nexport default Donut;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  }\n});","map":{"version":3,"sources":["/Users/viet/Desktop/stage/yobeen agrotech app/src/scenes/Donut.js"],"names":["React","Component","useContext","max","Svg","G","Circle","Context","AuthContext","widthPercentageToDP","wp","heightPercentageToDP","hp","listenOrientationChange","loc","removeOrientationListener","rol","ScaledSheet","s","vs","ms","mvs","AnimatedCircle","Animated","createAnimatedComponent","AnimatedInput","TextInput","console","disableYellowBox","Donut","props","a","radius","duration","delay","strokeWidth","somme","textColor","circleRef","useRef","inputRef","animatedValue","Value","current","animation","toValue","timing","useNativeDriver","start","useEffect","percentage","addListener","v","maxPerc","value","strokeDashoffset","setNativeProps","text","Math","round","state","signin","alignItems","color","StyleSheet","absoluteFillObject","fontSize","fontWeight","textAlign","marginLeft","marginTop","styles","create","container","flex"],"mappings":"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","sourcesContent":["import React,{Component,useContext} from 'react'\r\nimport { \r\n    View,\r\n    TextInput, \r\n    StyleSheet,\r\n    Animated,\r\n    Text\r\n} from 'react-native';\r\nimport { max } from 'react-native-reanimated';\r\nimport Svg, {G,Circle} from 'react-native-svg';\r\nimport {Context as AuthContext} from '../context/AuthContext';\r\nimport {\r\n    widthPercentageToDP as wp,\r\n    heightPercentageToDP as hp,\r\n    listenOrientationChange as loc,\r\n    removeOrientationListener as rol\r\n  } from 'react-native-responsive-screen';\r\n  import { ScaledSheet } from 'react-native-size-matters';\r\n  import { s, vs, ms, mvs } from 'react-native-size-matters';\r\n\r\nconst AnimatedCircle=Animated.createAnimatedComponent(Circle);\r\nconst AnimatedInput=Animated.createAnimatedComponent(TextInput);\r\nconsole.disableYellowBox = true;\r\n\r\nconst Donut=(props) =>{\r\n   const a=wp(\"86%\");  //Perimetre\r\n   const radius= wp('14%');  //rayon\r\n   const duration=800;\r\n   const delay=0;\r\n   const max=100;   //cad 100% \r\n   const strokeWidth= wp('2%');\r\n   const somme=radius+strokeWidth;  \r\n   //const color='tomato';\r\n   const textColor='#2B2A52';\r\n   //const percentage=62;\r\n   const circleRef=React.useRef();\r\n   const inputRef=React.useRef();\r\n   const animatedValue =React.useRef(new Animated.Value(0)).current;\r\n   const animation=(toValue) => {\r\n        return Animated.timing(animatedValue, {\r\n           toValue,\r\n           duration,\r\n           delay,\r\n           useNativeDriver: true,\r\n        }).start();\r\n    }; \r\n\r\nReact.useEffect(() =>{\r\n    animation(props.percentage);\r\n    animatedValue.addListener((v) =>{\r\n        if (circleRef?.current) {\r\n            const maxPerc=(100 * v.value)/max;\r\n            const strokeDashoffset = a-(a*maxPerc)/100;\r\n            circleRef.current.setNativeProps({\r\n                strokeDashoffset,\r\n            }); \r\n        }\r\n\r\n        if (inputRef?.current){\r\n            inputRef.current.setNativeProps({\r\n                text:`${Math.round(v.value)}`,\r\n            })\r\n        }\r\n    });\r\n});\r\n\r\n   const {state,signin} =useContext(AuthContext);\r\n        return (\r\n            <View  style={{alignItems:'center'}}>\r\n                <Svg \r\n                    width={radius*2} \r\n                    height={radius*2} \r\n                    viewBox={`0 0 ${somme * 2} ${somme * 2}`}\r\n                >\r\n                    <G rotation={wp('-20%')} origin={`${somme},${somme}`}>\r\n                        <Circle\r\n                            cx={wp('16%')}\r\n                            cy={wp('16%')}\r\n                            stroke={props.color}\r\n                            strokeWidth={wp('2%')}\r\n                            r={radius}\r\n                            strokeOpacity={0.3}\r\n                            fill=\"transparent\"\r\n                        />\r\n                        <AnimatedCircle\r\n                            ref={circleRef}\r\n                            cx={wp('16%')}\r\n                            cy={hp('9%')}\r\n                            stroke={props.color}\r\n                            strokeWidth={wp(\"2%\")}\r\n                            r={radius}\r\n                            strokeDasharray={a} \r\n                            strokeDashoffset={a} //humidité de 60% //Equivalente à ((100-60)*a)/100\r\n                            fill=\"transparent\"\r\n                            strokeLinecap='round'               \r\n                        />\r\n                    </G>\r\n                </Svg>\r\n                <AnimatedInput\r\n                    ref={inputRef}\r\n                    underlineColorAndroid=\"transparent\"\r\n                    editable={false}\r\n                    defaultValue=\"0\"\r\n                    style={[\r\n                        StyleSheet.absoluteFillObject,\r\n                        {fontSize: wp('6%'),color: textColor ?? props.color},\r\n                        {fontWeight:'bold',textAlign:'center',marginLeft: wp(\"-5%\")},\r\n                    ]}\r\n                />\r\n                <Text\r\n                    style={[\r\n                        StyleSheet.absoluteFillObject,\r\n                        {fontSize: wp('6%'),color: textColor ?? props.color},\r\n                        {fontWeight:'bold',textAlign:'center',marginTop: hp(\"6%\"), marginLeft: wp('7%')},\r\n                    ]}\r\n                >%</Text>\r\n            </View>\r\n        );\r\n};\r\nexport default Donut;\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1, \r\n  },\r\n});"]},"metadata":{},"sourceType":"module"}