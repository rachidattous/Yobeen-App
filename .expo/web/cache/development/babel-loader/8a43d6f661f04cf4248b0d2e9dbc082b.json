{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/Users/viet/Desktop/stage/yobeen agrotech app/src/scenes/Donut.js\";\n\nimport React, { Component, useContext } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { max } from 'react-native-reanimated';\nimport Svg, { G, Circle } from 'react-native-svg';\nimport { Context as AuthContext } from \"../context/AuthContext\";\nvar AnimatedCircle = Animated.createAnimatedComponent(Circle);\nvar AnimatedInput = Animated.createAnimatedComponent(TextInput);\nconsole.disableYellowBox = true;\n\nvar Donut = function Donut(props) {\n  var a = 2 * Math.PI * 60;\n  var radius = 60;\n  var duration = 800;\n  var delay = 0;\n  var max = 100;\n  var strokeWidth = 9;\n  var somme = radius + strokeWidth;\n  var textColor = '#2B2A52';\n  var circleRef = React.useRef();\n  var inputRef = React.useRef();\n  var animatedValue = React.useRef(new Animated.Value(0)).current;\n\n  var animation = function animation(toValue) {\n    return Animated.timing(animatedValue, {\n      toValue: toValue,\n      duration: duration,\n      delay: delay,\n      useNativeDriver: true\n    }).start();\n  };\n\n  React.useEffect(function () {\n    animation(props.percentage);\n    animatedValue.addListener(function (v) {\n      if (circleRef != null && circleRef.current) {\n        var maxPerc = 100 * v.value / max;\n        var strokeDashoffset = a - a * maxPerc / 100;\n        circleRef.current.setNativeProps({\n          strokeDashoffset: strokeDashoffset\n        });\n      }\n\n      if (inputRef != null && inputRef.current) {\n        inputRef.current.setNativeProps({\n          text: \"\" + Math.round(v.value)\n        });\n      }\n    });\n  });\n\n  var _useContext = useContext(AuthContext),\n      state = _useContext.state,\n      signin = _useContext.signin;\n\n  return React.createElement(View, {\n    style: {\n      alignItems: 'center'\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 5\n    }\n  }, React.createElement(Svg, {\n    width: radius * 2,\n    height: radius * 2,\n    viewBox: \"0 0 \" + somme * 2 + \" \" + somme * 2,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 8\n    }\n  }, React.createElement(G, {\n    rotation: \"-90\",\n    origin: somme + \",\" + somme,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 12\n    }\n  }, React.createElement(Circle, {\n    cx: \"50%\",\n    cy: \"50%\",\n    stroke: props.color,\n    strokeWidth: \"6\",\n    r: radius,\n    strokeOpacity: 0.3,\n    fill: \"transparent\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 12\n    }\n  }), React.createElement(AnimatedCircle, {\n    ref: circleRef,\n    cx: \"50%\",\n    cy: \"50%\",\n    stroke: props.color,\n    strokeWidth: strokeWidth,\n    r: radius,\n    strokeDasharray: a,\n    strokeDashoffset: a,\n    fill: \"transparent\",\n    strokeLinecap: \"round\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 16\n    }\n  }))), React.createElement(AnimatedInput, {\n    ref: inputRef,\n    underlineColorAndroid: \"transparent\",\n    editable: false,\n    defaultValue: \"0\",\n    style: [StyleSheet.absoluteFillObject, {\n      fontSize: 26,\n      color: textColor != null ? textColor : props.color\n    }, {\n      fontWeight: 'bold',\n      textAlign: 'center',\n      marginLeft: -16\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 12\n    }\n  }), React.createElement(Text, {\n    style: [StyleSheet.absoluteFillObject, {\n      fontSize: 26,\n      color: textColor != null ? textColor : props.color\n    }, {\n      fontWeight: 'bold',\n      textAlign: 'center',\n      marginTop: 40,\n      marginLeft: 35\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 12\n    }\n  }, \"%\"));\n};\n\nexport default Donut;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1\n  }\n});","map":{"version":3,"sources":["/Users/viet/Desktop/stage/yobeen agrotech app/src/scenes/Donut.js"],"names":["React","Component","useContext","max","Svg","G","Circle","Context","AuthContext","AnimatedCircle","Animated","createAnimatedComponent","AnimatedInput","TextInput","console","disableYellowBox","Donut","props","a","Math","PI","radius","duration","delay","strokeWidth","somme","textColor","circleRef","useRef","inputRef","animatedValue","Value","current","animation","toValue","timing","useNativeDriver","start","useEffect","percentage","addListener","v","maxPerc","value","strokeDashoffset","setNativeProps","text","round","state","signin","alignItems","color","StyleSheet","absoluteFillObject","fontSize","fontWeight","textAlign","marginLeft","marginTop","styles","create","container","flex"],"mappings":";;;AAAA,OAAOA,KAAP,IAAcC,SAAd,EAAwBC,UAAxB,QAAyC,OAAzC;;;;;;AAEA,SAASC,GAAT,QAAoB,yBAApB;AACA,OAAOC,GAAP,IAAaC,CAAb,EAAeC,MAAf,QAA4B,kBAA5B;AACA,SAAQC,OAAO,IAAIC,WAAnB;AAEA,IAAMC,cAAc,GAACC,QAAQ,CAACC,uBAAT,CAAiCL,MAAjC,CAArB;AACA,IAAMM,aAAa,GAACF,QAAQ,CAACC,uBAAT,CAAiCE,SAAjC,CAApB;AACAC,OAAO,CAACC,gBAAR,GAA2B,IAA3B;;AAGA,IAAMC,KAAK,GAAC,SAANA,KAAM,CAACC,KAAD,EAAU;AACnB,MAAMC,CAAC,GAAC,IAAEC,IAAI,CAACC,EAAP,GAAU,EAAlB;AACA,MAAMC,MAAM,GAAC,EAAb;AACA,MAAMC,QAAQ,GAAC,GAAf;AACA,MAAMC,KAAK,GAAC,CAAZ;AACA,MAAMpB,GAAG,GAAC,GAAV;AACA,MAAMqB,WAAW,GAAC,CAAlB;AACA,MAAMC,KAAK,GAACJ,MAAM,GAACG,WAAnB;AAEA,MAAME,SAAS,GAAC,SAAhB;AAEA,MAAMC,SAAS,GAAC3B,KAAK,CAAC4B,MAAN,EAAhB;AACA,MAAMC,QAAQ,GAAC7B,KAAK,CAAC4B,MAAN,EAAf;AACA,MAAME,aAAa,GAAE9B,KAAK,CAAC4B,MAAN,CAAa,IAAIlB,QAAQ,CAACqB,KAAb,CAAmB,CAAnB,CAAb,EAAoCC,OAAzD;;AACA,MAAMC,SAAS,GAAC,SAAVA,SAAU,CAACC,OAAD,EAAa;AACvB,WAAOxB,QAAQ,CAACyB,MAAT,CAAgBL,aAAhB,EAA+B;AACpCI,MAAAA,OAAO,EAAPA,OADoC;AAEpCZ,MAAAA,QAAQ,EAARA,QAFoC;AAGpCC,MAAAA,KAAK,EAALA,KAHoC;AAIpCa,MAAAA,eAAe,EAAE;AAJmB,KAA/B,EAMHC,KANG,EAAP;AAQL,GATD;;AAUArC,EAAAA,KAAK,CAACsC,SAAN,CAAgB,YAAK;AACpBL,IAAAA,SAAS,CAAChB,KAAK,CAACsB,UAAP,CAAT;AAEAT,IAAAA,aAAa,CAACU,WAAd,CAA0B,UAACC,CAAD,EAAM;AAC5B,UAAId,SAAJ,YAAIA,SAAS,CAAEK,OAAf,EAAwB;AACpB,YAAMU,OAAO,GAAE,MAAMD,CAAC,CAACE,KAAT,GAAgBxC,GAA9B;AACA,YAAMyC,gBAAgB,GAAG1B,CAAC,GAAEA,CAAC,GAACwB,OAAH,GAAY,GAAvC;AACAf,QAAAA,SAAS,CAACK,OAAV,CAAkBa,cAAlB,CAAiC;AAC7BD,UAAAA,gBAAgB,EAAhBA;AAD6B,SAAjC;AAGH;;AAED,UAAIf,QAAJ,YAAIA,QAAQ,CAAEG,OAAd,EAAsB;AAClBH,QAAAA,QAAQ,CAACG,OAAT,CAAiBa,cAAjB,CAAgC;AAC5BC,UAAAA,IAAI,OAAI3B,IAAI,CAAC4B,KAAL,CAAWN,CAAC,CAACE,KAAb;AADoB,SAAhC;AAGH;AACJ,KAdD;AAgBA,GAnBD;;AAxBmB,oBA4CGzC,UAAU,CAACM,WAAD,CA5Cb;AAAA,MA4CZwC,KA5CY,eA4CZA,KA5CY;AAAA,MA4CNC,MA5CM,eA4CNA,MA5CM;;AA+CpB,SACE,oBAAC,IAAD;AAAO,IAAA,KAAK,EAAE;AAACC,MAAAA,UAAU,EAAC;AAAZ,KAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACG,oBAAC,GAAD;AACI,IAAA,KAAK,EAAE7B,MAAM,GAAC,CADlB;AAEI,IAAA,MAAM,EAAEA,MAAM,GAAC,CAFnB;AAGI,IAAA,OAAO,WAASI,KAAK,GAAG,CAAjB,SAAsBA,KAAK,GAAG,CAHzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAMI,oBAAC,CAAD;AAAG,IAAA,QAAQ,EAAC,KAAZ;AAAkB,IAAA,MAAM,EAAKA,KAAL,SAAcA,KAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAGA,oBAAC,MAAD;AACK,IAAA,EAAE,EAAC,KADR;AAEK,IAAA,EAAE,EAAC,KAFR;AAGK,IAAA,MAAM,EAAER,KAAK,CAACkC,KAHnB;AAIK,IAAA,WAAW,EAAC,GAJjB;AAKK,IAAA,CAAC,EAAE9B,MALR;AAOK,IAAA,aAAa,EAAE,GAPpB;AAQK,IAAA,IAAI,EAAC,aARV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHA,EAcI,oBAAC,cAAD;AACC,IAAA,GAAG,EAAEM,SADN;AAEC,IAAA,EAAE,EAAC,KAFJ;AAGC,IAAA,EAAE,EAAC,KAHJ;AAIC,IAAA,MAAM,EAAEV,KAAK,CAACkC,KAJf;AAKC,IAAA,WAAW,EAAE3B,WALd;AAMC,IAAA,CAAC,EAAEH,MANJ;AAOC,IAAA,eAAe,EAAEH,CAPlB;AAQC,IAAA,gBAAgB,EAAEA,CARnB;AASC,IAAA,IAAI,EAAC,aATN;AAUC,IAAA,aAAa,EAAC,OAVf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAdJ,CANJ,CADH,EAuCO,oBAAC,aAAD;AACA,IAAA,GAAG,EAAEW,QADL;AAEA,IAAA,qBAAqB,EAAC,aAFtB;AAGA,IAAA,QAAQ,EAAE,KAHV;AAIA,IAAA,YAAY,EAAC,GAJb;AAKA,IAAA,KAAK,EAAE,CACHuB,UAAU,CAACC,kBADR,EAEH;AAACC,MAAAA,QAAQ,EAAC,EAAV;AAAaH,MAAAA,KAAK,EAAEzB,SAAF,WAAEA,SAAF,GAAeT,KAAK,CAACkC;AAAvC,KAFG,EAGH;AAACI,MAAAA,UAAU,EAAC,MAAZ;AAAmBC,MAAAA,SAAS,EAAC,QAA7B;AAAsCC,MAAAA,UAAU,EAAC,CAAC;AAAlD,KAHG,CALP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAvCP,EAmDO,oBAAC,IAAD;AACC,IAAA,KAAK,EAAE,CACHL,UAAU,CAACC,kBADR,EAEH;AAACC,MAAAA,QAAQ,EAAC,EAAV;AAAaH,MAAAA,KAAK,EAAEzB,SAAF,WAAEA,SAAF,GAAeT,KAAK,CAACkC;AAAvC,KAFG,EAGH;AAACI,MAAAA,UAAU,EAAC,MAAZ;AAAmBC,MAAAA,SAAS,EAAC,QAA7B;AAAsCE,MAAAA,SAAS,EAAC,EAAhD;AAAmDD,MAAAA,UAAU,EAAC;AAA9D,KAHG,CADR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAnDP,CADF;AAgED,CA/GD;;AAmHA,eAAezC,KAAf;AAIA,IAAM2C,MAAM,GAAGP,UAAU,CAACQ,MAAX,CAAkB;AAC/BC,EAAAA,SAAS,EAAE;AACTC,IAAAA,IAAI,EAAE;AADG;AADoB,CAAlB,CAAf","sourcesContent":["import React,{Component,useContext} from 'react'\r\nimport { View,TextInput, StyleSheet,Animated,Text} from 'react-native';\r\nimport { max } from 'react-native-reanimated';\r\nimport Svg, {G,Circle} from 'react-native-svg';\r\nimport {Context as AuthContext} from '../context/AuthContext';\r\n\r\nconst AnimatedCircle=Animated.createAnimatedComponent(Circle);\r\nconst AnimatedInput=Animated.createAnimatedComponent(TextInput);\r\nconsole.disableYellowBox = true;\r\n\r\n\r\nconst Donut=(props) =>{\r\n   const a=2*Math.PI*60;  //Perimetre\r\n   const radius=60;  //rayon\r\n   const duration=800;\r\n   const delay=0;\r\n   const max=100;   //cad 100% \r\n   const strokeWidth=9;\r\n   const somme=radius+strokeWidth;  \r\n   //const color='tomato';\r\n   const textColor='#2B2A52';\r\n   //const percentage=62;\r\n   const circleRef=React.useRef();\r\n   const inputRef=React.useRef();\r\n   const animatedValue =React.useRef(new Animated.Value(0)).current;\r\n   const animation=(toValue) => {\r\n         return Animated.timing(animatedValue, {\r\n           toValue,\r\n           duration,\r\n           delay,\r\n           useNativeDriver: true,\r\n\r\n          }).start();\r\n\r\n   }; \r\n   React.useEffect(() =>{\r\n    animation(props.percentage);\r\n     \r\n    animatedValue.addListener((v) =>{\r\n        if (circleRef?.current) {\r\n            const maxPerc=(100 * v.value)/max;\r\n            const strokeDashoffset = a-(a*maxPerc)/100;\r\n            circleRef.current.setNativeProps({\r\n                strokeDashoffset,\r\n            }); \r\n        }\r\n\r\n        if (inputRef?.current){\r\n            inputRef.current.setNativeProps({\r\n                text:`${Math.round(v.value)}`,\r\n            })\r\n        }\r\n    });\r\n\r\n   });\r\n   const {state,signin} =useContext(AuthContext);\r\n\r\n  \r\n  return (\r\n    <View  style={{alignItems:'center'}}>\r\n       <Svg \r\n           width={radius*2} \r\n           height={radius*2} \r\n           viewBox={`0 0 ${somme * 2} ${somme * 2}`}\r\n           \r\n        >\r\n           <G rotation='-90' origin={`${somme},${somme}`}>\r\n\r\n               \r\n           <Circle\r\n                cx='50%'\r\n                cy='50%'\r\n                stroke={props.color}\r\n                strokeWidth='6'\r\n                r={radius}\r\n                \r\n                strokeOpacity={0.3}\r\n                fill=\"transparent\"\r\n\r\n               />\r\n               <AnimatedCircle\r\n                ref={circleRef}\r\n                cx='50%'\r\n                cy='50%'\r\n                stroke={props.color}\r\n                strokeWidth={strokeWidth}\r\n                r={radius}\r\n                strokeDasharray={a} \r\n                strokeDashoffset={a} //humidité de 60% //Equivalente à ((100-60)*a)/100\r\n                fill=\"transparent\"\r\n                strokeLinecap='round'\r\n               \r\n               \r\n               />\r\n\r\n           </G>\r\n           </Svg>\r\n           \r\n           <AnimatedInput\r\n           ref={inputRef}\r\n           underlineColorAndroid=\"transparent\"\r\n           editable={false}\r\n           defaultValue=\"0\"\r\n           style={[\r\n               StyleSheet.absoluteFillObject,\r\n               {fontSize:26,color: textColor ?? props.color},\r\n               {fontWeight:'bold',textAlign:'center',marginLeft:-16},\r\n           ]}\r\n           \r\n           />\r\n           <Text\r\n            style={[\r\n                StyleSheet.absoluteFillObject,\r\n                {fontSize:26,color: textColor ?? props.color},\r\n                {fontWeight:'bold',textAlign:'center',marginTop:40,marginLeft:35},\r\n            ]}\r\n           >%</Text>\r\n          \r\n          \r\n    </View>\r\n\r\n    );\r\n}\r\n\r\n\r\n;\r\nexport default Donut;\r\n\r\n\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1, \r\n   \r\n  },\r\n  \r\n}\r\n);"]},"metadata":{},"sourceType":"module"}